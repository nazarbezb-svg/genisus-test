<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Hello,my friend!</title>
    <style>
      body {
        font-family: system-ui, -apple-system, "Segoe UI", Roboto,
          "Helvetica Neue", Arial;
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
        margin: 0;
        background: #000000;
        color: #ffffff;
      }
      #stage {
        position: relative;
        width: 100vw;
        height: 100vh;
        overflow: hidden;
      }
      .box {
        text-align: center;
        font-size: 2rem;
        padding: 1rem 1.5rem;
        background: white;
        color: #111827;
        border-radius: 8px;
        border: 4px solid #3b82f6;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.45),
          0 0 30px rgba(59, 130, 246, 0.12);
        transition: transform 200ms ease, box-shadow 200ms ease;
        display: inline-block;
        position: relative;
        z-index: 2;
      }
      .box:hover {
        transform: translateY(-4px);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1),
          0 0 30px rgba(59, 130, 246, 0.18);
      }
      #runButton {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        padding: 0.5rem 1rem;
        font-size: 1rem;
        border-radius: 999px;
        border: none;
        background: #3b82f6;
        color: white;
        cursor: pointer;
        z-index: 4;
        box-shadow: 0 6px 20px rgba(59, 130, 246, 0.2);
        transition: left 900ms cubic-bezier(0.2, 0.9, 0.2, 1),
          top 900ms cubic-bezier(0.2, 0.9, 0.2, 1), box-shadow 300ms ease;
      }
      #runButton:active {
        transform: translate(-50%, -50%) scale(0.98);
      }
      /* Message inside the box (updates to 'victory' on click) */
      #message {
        display: inline-block;
        transition: transform 450ms ease, color 450ms ease, opacity 400ms ease;
        opacity: 1;
      }
      #message.victory {
        color: #16a34a;
        transform: scale(1.08);
        text-shadow: 0 8px 24px rgba(22, 163, 74, 0.14);
        font-weight: 700;
      }
      /* Visual celebration state for the box */
      .box.win {
        background: linear-gradient(90deg, #16a34a, #bbf7d0);
        color: #062;
        border-color: #16a34a;
        box-shadow: 0 20px 50px rgba(22, 163, 74, 0.2),
          0 0 60px rgba(59, 130, 246, 0.15);
      }
      .box.win #message {
        color: #062;
      }
      .lights {
        position: absolute;
        inset: 0;
        z-index: 1;
        pointer-events: none;
      }
      /* Victory overlay: large centered message */
      #victoryOverlay {
        position: fixed;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 9999;
        pointer-events: none;
        opacity: 0;
        transition: opacity 380ms ease;
      }
      #victoryOverlay.show {
        opacity: 1;
        pointer-events: auto;
      }
      #victoryOverlay .label {
        font-family: inherit;
        font-size: clamp(36px, 10vw, 120px);
        color: #16a34a;
        font-weight: 900;
        text-shadow: 0 10px 40px rgba(22, 163, 74, 0.18);
        transform: scale(0.96);
        transition: transform 420ms cubic-bezier(0.2, 0.9, 0.2, 1),
          opacity 420ms ease;
        opacity: 0;
      }
      #victoryOverlay.show .label {
        transform: scale(1);
        opacity: 1;
      }
      .lights .light {
        position: absolute;
        left: var(--x);
        top: var(--y);
        width: var(--size);
        height: var(--size);
        border-radius: 50%;
        transform: translate(-50%, -50%);
        background: radial-gradient(
          circle at 50% 50%,
          var(--color) 0%,
          rgba(0, 0, 0, 0) 60%
        );
        filter: blur(var(--blur, 20px));
        opacity: var(--opacity, 0.55);
        animation: float var(--duration, 10s) ease-in-out infinite;
      }
      .lights .light:nth-child(2) {
        animation-delay: 0.3s;
      }
      .lights .light:nth-child(3) {
        animation-delay: 0.6s;
      }
      .lights .light:nth-child(4) {
        animation-delay: 1s;
      }
      .lights .light:nth-child(5) {
        animation-delay: 1.4s;
      }
      .lights .light:nth-child(6) {
        animation-delay: 1.8s;
      }
      .lights .light:nth-child(7) {
        animation-delay: 2.1s;
      }
      .lights .light:nth-child(8) {
        animation-delay: 2.4s;
      }

      @keyframes float {
        0% {
          transform: translate(-50%, -50%) translateY(-8px) translateX(0);
        }
        50% {
          transform: translate(-50%, -50%) translateY(8px) translateX(6px);
        }
        100% {
          transform: translate(-50%, -50%) translateY(-8px) translateX(0);
        }
      }
    </style>
  </head>
  <body>
    <div id="stage">
      <!-- Layer: blurred multi-colored lights under content -->
      <div class="lights" aria-hidden="true">
        <span
          class="light"
          style="
            --x: 8%;
            --y: 14%;
            --size: 220px;
            --color: #06b6d4;
            --duration: 14s;
            --blur: 40px;
            --opacity: 0.45;
          "
        ></span>
        <span
          class="light"
          style="
            --x: 22%;
            --y: 70%;
            --size: 160px;
            --color: #f43f5e;
            --duration: 18s;
            --blur: 36px;
            --opacity: 0.5;
          "
        ></span>
        <span
          class="light"
          style="
            --x: 46%;
            --y: 24%;
            --size: 120px;
            --color: #f59e0b;
            --duration: 11s;
            --blur: 30px;
            --opacity: 0.55;
          "
        ></span>
        <span
          class="light"
          style="
            --x: 68%;
            --y: 66%;
            --size: 180px;
            --color: #8b5cf6;
            --duration: 16s;
            --blur: 36px;
            --opacity: 0.4;
          "
        ></span>
        <span
          class="light"
          style="
            --x: 82%;
            --y: 20%;
            --size: 110px;
            --color: #34d399;
            --duration: 12s;
            --blur: 26px;
            --opacity: 0.6;
          "
        ></span>
        <span
          class="light"
          style="
            --x: 35%;
            --y: 50%;
            --size: 140px;
            --color: #fb7185;
            --duration: 10s;
            --blur: 32px;
            --opacity: 0.45;
          "
        ></span>
        <span
          class="light"
          style="
            --x: 58%;
            --y: 10%;
            --size: 90px;
            --color: #06b6d4;
            --duration: 13s;
            --blur: 18px;
            --opacity: 0.35;
          "
        ></span>
        <span
          class="light"
          style="
            --x: 10%;
            --y: 85%;
            --size: 100px;
            --color: #f97316;
            --duration: 9s;
            --blur: 20px;
            --opacity: 0.35;
          "
        ></span>
      </div>
      <div id="victoryOverlay" aria-hidden="true">
        <div class="label">Victory</div>
      </div>
      <div class="box">
        <span id="message" role="status" aria-live="polite"
          >Hello, my friend!</span
        >
      </div>
      <!-- A playful button that runs across the stage when hovered -->
      <button id="runButton" aria-label="Runaway button">Catch me</button>
    </div>

    <script>
      (function () {
        const btn = document.getElementById("runButton");
        const stage = document.getElementById("stage");

        // Set initial position to center the button (both axes)
        function centerButton() {
          const stageRect = stage.getBoundingClientRect();
          const btnRect = btn.getBoundingClientRect();
          const left = Math.floor(stageRect.width / 2);
          const top = Math.floor(stageRect.height / 2);
          btn.style.left = left + "px";
          btn.style.top = top + "px";
        }

        // Move button to a random X/Y within the stage bounds
        function moveToRandomXY() {
          const stageRect = stage.getBoundingClientRect();
          const btnRect = btn.getBoundingClientRect();
          const margin = 20;
          const minX = Math.floor(btnRect.width / 2 + margin);
          const maxX = Math.floor(stageRect.width - btnRect.width / 2 - margin);
          const minY = Math.floor(btnRect.height / 2 + margin);
          const maxY = Math.floor(
            stageRect.height - btnRect.height / 2 - margin
          );
          const newX = Math.floor(Math.random() * (maxX - minX + 1)) + minX;
          const newY = Math.floor(Math.random() * (maxY - minY + 1)) + minY;
          btn.style.left = newX + "px";
          btn.style.top = newY + "px";
        }

        // Move to the far right edge and either the top or bottom (runs across and vertically)
        function runAcrossAndVertical() {
          const stageRect = stage.getBoundingClientRect();
          const btnRect = btn.getBoundingClientRect();
          const margin = 20;
          const newX = Math.floor(stageRect.width - btnRect.width / 2 - margin);
          const minY = Math.floor(btnRect.height / 2 + margin);
          const maxY = Math.floor(
            stageRect.height - btnRect.height / 2 - margin
          );
          // pick top or bottom to make the button run vertically as well
          const newY = Math.random() > 0.5 ? minY : maxY;
          btn.style.left = newX + "px";
          btn.style.top = newY + "px";
        }

        // Event: on hover, run across (fast) â€” also randomly shift once more for variety
        btn.addEventListener("mouseenter", () => {
          // first: run across and vertically to the edge
          runAcrossAndVertical();
          // second: after the transition, shift to a random X/Y so it's not always at the same spot
          setTimeout(() => {
            moveToRandomXY();
          }, 900);
        });

        // Event: on click, show 'victory' inscription in the box and a large centered overlay
        btn.addEventListener("click", () => {
          const msg = document.getElementById("message");
          const box = document.querySelector(".box");
          const overlay = document.getElementById("victoryOverlay");
          const overlayLabel = overlay && overlay.querySelector(".label");
          if (!msg || !box) return console.warn("message or box not found");
          console.log("runButton clicked");
          // Set victory text and apply class
          msg.textContent = "Victory";
          // add a tiny delay so the scaling/fade feels smoother when the user clicks
          setTimeout(() => msg.classList.add("victory"), 60);
          // visually enhance the box for a celebration and ensure message is readable
          box.classList.add("win");
          // show overlay (large centered victory) if present
          if (overlay && overlayLabel) {
            overlayLabel.textContent = "Victory";
            overlay.classList.add("show");
          }
          // remove celebration after 3.2s so user can try more actions later
          setTimeout(() => {
            msg.classList.remove("victory");
            box.classList.remove("win");
            // restore message to original text and hide overlay
            msg.textContent = "Hello, my friend!";
            if (overlay) overlay.classList.remove("show");
          }, 3200);
        });

        // When the mouse leaves the stage entirely, return the button back to center (both axes)
        stage.addEventListener("mouseleave", () => {
          centerButton();
        });

        // Re-center on load and on resize
        window.addEventListener("resize", centerButton);
        centerButton();
      })();
    </script>
  </body>
</html>
